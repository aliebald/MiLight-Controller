<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MiLight Controller</title>

		<!-- Bootstrap css -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="css\custom.css">
	</head>

	<body>
		<!-- Header -->
		<!--
		<header class="py-1">
			<div class="container d-flex justify-content-between">
				<h1 class="header-title">MiLight controller</h1>
				<i class="far fa-lightbulb darkText"></i>
				<i class="far fa-lightbulb darkText"></i>
				<i class="far fa-lightbulb darkText"></i>
				<nav class="nav nav-head justify-content-center">

				</nav>
			</div>
		</header>
		-->

		<!-- Sidebar -->
		<div id="sidenav" class="sidenav" style="width: 0px;">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<a class="sidenav-btn" href="#" data-toggle="modal" data-target="#settingsModal">Settings</a>
			<a class="sidenav-btn" href="#" data-toggle="modal" data-target="#aboutModal">About</a>
			<a class="sidenav-btn" href="#">Contact</a>
			<a class="nav-symbol" href="https://github.com/ALiebald/MiLight-Controller" target="_blank"><i class="fab fa-github"></i></a>
			<a class="nav-symbol mr-5" href="https://github.com/ALiebald" target="_blank"><i class="far fa-envelope"></i></a>
		</div>

		<!-- Settings Modal -->
		<div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title textDark" id="settingsModalLabel">Settings</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body textGrey">
						<div class="form-group">
							<label for="bridgeIpAddress">Bridge Ip Address</label>
							<select class="form-control" id="bridgeIpAddress" aria-describedby="bridgeIp">
								<option value="">No bridge found in your local network</option>
							</select>
						</div>
						<div class="form-group">
							<label for="bridgePort">Bridge Port</label>
							<input type="number" class="form-control" id="bridgePort" aria-describedby="bridgeIp">
						</div>
						<div class="form-group">
							<label for="activeTargetDataLine">Audio input for music visualizer</label>
							<select class="form-control" id="activeTargetDataLine">
								<option value="none">None</option>
							</select>
						</div>
						<div class="form-group form-check">
							<input type="checkbox" class="form-check-input" id="openBrowserOnStart">
							<label class="form-check-label" for="openBrowserOnStart">Open new browser tab when server starts</label>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" onclick="resetSettings()">&nbsp;Reset&nbsp;</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">&nbsp;Close&nbsp;</button>
						<button type="button" class="btn btn-primary" onclick="applySettings()">&nbsp;Save changes&nbsp;</button>
					</div>
				</div>
			</div>
		</div>

		<!-- About Modal -->
		<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title textDark" id="aboutModalLabel">About this MiLight controller</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body textGrey">
						<p>
							Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
						</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Toast messages -->
		<div class="toastContainer" aria-live="polite" aria-atomic="true">
			<div class="toastInner">
				<!-- Saved settings successfully toast -->
				<div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="true" id="saveSettingsSuccess" data-delay="2000">
					<div class="toast-header">
						<strong class="mr-auto success">Saved settings</strong>
						<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="toast-body success">
						Successfully saved and applied settings.
					</div>
				</div>
				<!-- Failed to save settings toast -->
				<div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="false" id="saveSettingsError">
					<div class="toast-header">
						<strong class="mr-auto error">Failed to save settings</strong>
						<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="toast-body error" id="saveSettingsErrorMessage">
						Error message
					</div>
				</div>
				<!-- Failed to add custom color -->
				<div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="true" id="customColorError" data-delay="2000">
					<div class="toast-header">
						<strong class="mr-auto error">Failed add custom color</strong>
						<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="toast-body error" id="customColorErrorMessage">
						Failed add custom color because the exact color already exists.
					</div>
				</div>
			</div>
		</div>
		<!-- Top Bar -->
		<div class="py-3 container-xl">
			<div class="row topBar">
				<div class="col-4">
				</div>
				<div class="col-4 d-flex align-items-center justify-content-center textDark my-1">
					<span class="mx-1">
						<button type="button"  onclick="sendCommand('turnOn')" class="btn btn-secondary textDark">&nbsp;On&nbsp;</button>
					</span>
					<span class="mx-1">
						<button type="button"  onclick="sendCommand('turnOff')" class="btn btn-secondary textDark">&nbsp;Off&nbsp;</button>
					</span>
				</div>
				<div class="col-4 d-flex align-items-center justify-content-end textDark my-1">
					<i class="fas fa-bars fa-2x pr-2" onclick="toggleNav()"></i>
				</div>
			</div>
		</div>

		<div class="container-xl">
			<div class="row">
				<div class="col-lg col-md-12 col-sm-12 section mr-md-3 my-2">
					<div class="row">
						<!-- Color picker and brightness-->
						<div class="col-4 py-2 sliderCollection">
							<!--
							<div class="img-center">
								<i class="far fa-sun fa-2x textDark img-center"></i>
							</div>
							-->
							<input type="range" min="0" max="100" value="80" class="brightnessSlider" id="brightnessSlider">
						</div>
						<div class="col-8 py-2 pt-2">
							<div class="color-picker" id="picker"></div>
						</div>

					</div>
					<!-- colors -->
					<div class="row pt-2" id="colorButtons">
						<!-- custom colors -->

						<!-- Add custom color button -->
						<div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 py-2">
							<button type="button" onclick="addCustomColor()" class="btn addColor" style="background: red;" id="addCustomColorButton">
								<i class="fas fa-plus addCustomColorButton"></i>
							</button>
						</div>
					</div>

					<div class="row py-2 ">
						<div class="col-12">
							<button type="button" class="btn btn-warning float-right" onclick="toggleColorEdit()" id="toggleEditColorsBtn">Toggle Edit</button>
						</div>
					</div>
					<!-- Separator -->
					<div class="row separator"></div>

					<!-- Bridge selector / Zones -->
					<div class="row">
						<div class="col-12 py-3 text-center" style="display: inline">
							<span class="textDark responsiveText pr-2 pt-2">
								Zones:
							</span>
							<div class="btn-group" role="group" aria-label="Basic example">
								<button type="button" class="btn btn-secondary textDark active py-3" id="zoneAll">&nbsp;Toggle&nbsp;All&nbsp;</button>
								<button type="button" class="btn btn-secondary textDark active py-3" id="zone1">&nbsp;First&nbsp;</button>
								<button type="button" class="btn btn-secondary textDark active py-3" id="zone2">&nbsp;Second&nbsp;</button>
								<button type="button" class="btn btn-secondary textDark active py-3" id="zone3">&nbsp;Third&nbsp;</button>
								<button type="button" class="btn btn-secondary textDark active py-3" id="zone4">&nbsp;Fourth&nbsp;</button>
							</div>
						</div>
					</div>
				</div>
				<!-- Modes -->
				<div class="col-lg col-md-12 col-sm-12 section my-2">
					<!-- navigation tabs -->
					<ul class="nav nav-pills nav-fill modeSelector pt-2 pb-2" id="pills-tab" role="tablist">
						<li class="nav-item noBorderRadiusRight">
							<a class="nav-link d-flex justify-content-center align-items-center noBorderRadiusRight textDark active" id="buildInModes-tab" data-toggle="pill" href="#buildInModes" role="tab" aria-controls="pills-home" aria-selected="true">Build in Modes</a>
						</li>
						<li class="nav-item noBorderRadiusLeft">
							<a class="nav-link d-flex justify-content-center align-items-center noBorderRadiusLeft textDark" id="musicModes-tab" data-toggle="pill" href="#musicModes" role="tab" aria-controls="pills-profile" aria-selected="false">Music Modes</a>
						</li>
					</ul>
					<!-- Content -->
					<div class="tab-content" id="pills-tabContent">
						<!-- Content for buildIn modes -->
						<div class="container modeTabs tab-pane fade show textDark active" id="buildInModes" role="tabpanel" aria-labelledby="buildInModes-tab">
							<div class="row justify-content-center py-2">
								<button type="button" class="btn btn-secondary py-2" onclick="sendCommand('decreaseSpeed')">&nbsp;&nbsp;-&nbsp;&nbsp;</button>
								<span class="align-middle d-flex align-items-center py-2 responsiveText">&nbsp;&nbsp;Speed&nbsp;&nbsp;</span>
								<button type="button" class="btn btn-secondary py-2" onclick="sendCommand('increaseSpeed')">&nbsp;&nbsp;+&nbsp;&nbsp;</button>
							</div>
							<div class="row">
								<div class="col-12">
									<div class="list-group modesList" id="buildInModes-tab-tabs" role="tablist">
										<a class="list-group-item list-group-item-action" id="colorWheelTab" 			data-toggle="list" href="#colorWheelInfo" 			role="tab" aria-controls="buildInMode2Tab">ColorWheel</a>
										<a class="list-group-item list-group-item-action" id="breathingColorWheelTab" 	data-toggle="list" href="#breathingColorWheelInfo" 	role="tab" aria-controls="buildInMode1Tab">BreathingColorWheel</a>
										<a class="list-group-item list-group-item-action" id="partyTab"					data-toggle="list" href="#partyInfo" 				role="tab" aria-controls="buildInMode2Tab">Party</a>
										<a class="list-group-item list-group-item-action" id="partyMultipleColorsTab" 	data-toggle="list" href="#partyMultipleColorsInfo" 	role="tab" aria-controls="buildInMode1Tab">PartyMultipleColors</a>
										<a class="list-group-item list-group-item-action" id="flashRedTab" 				data-toggle="list" href="#flashRedInfo" 			role="tab" aria-controls="buildInMode2Tab">FlashRed</a>
										<a class="list-group-item list-group-item-action" id="flashGreenTab"			data-toggle="list" href="#flashGreenInfo" 			role="tab" aria-controls="buildInMode1Tab">FlashGreen</a>
										<a class="list-group-item list-group-item-action" id="flashBlueTab"				data-toggle="list" href="#flashBlueInfo" 			role="tab" aria-controls="buildInMode2Tab">FlashBlue</a>
									</div>
								</div>
							</div>
							<div class="col-12 pt-2 pb-3">
								<div class="tab-content" id="nav-tabContent">
									<div class="tab-pane fade" id="colorWheelInfo" 			role="tabpanel" aria-labelledby="colorWheelTab">ColorWheel</div>
									<div class="tab-pane fade" id="breathingColorWheelInfo" role="tabpanel" aria-labelledby="breathingColorWheelTab">BreathingColorWheel</div>
									<div class="tab-pane fade" id="partyInfo" 				role="tabpanel" aria-labelledby="partyTab">Party</div>
									<div class="tab-pane fade" id="partyMultipleColorsInfo" role="tabpanel" aria-labelledby="partyMultipleColorsTab">PartyMultipleColors</div>
									<div class="tab-pane fade" id="flashRedInfo" 			role="tabpanel" aria-labelledby="flashRedTab">FlashRed</div>
									<div class="tab-pane fade" id="flashGreenInfo" 			role="tabpanel" aria-labelledby="flashGreenTab">FlashGreen</div>
									<div class="tab-pane fade" id="flashBlueInfo" 			role="tabpanel" aria-labelledby="flashBlueTab">FlashBlue</div>
								</div>
							</div>
						</div>
						<!-- Content for music modes -->
						<div class="container modeTabs tab-pane fade textDark" id="musicModes" role="tabpanel" aria-labelledby="musicModes-tab">
							<div class="row">
								<div class="col-12">
									<div class="list-group modesList" id="musicModes-tab-tabs" role="tablist">
										<a class="list-group-item list-group-item-action" id="cyclicLightsTab" 		data-toggle="list" href="#cyclicLightsInfo" 	role="tab" aria-controls="cyclicLightsTab">Cyclic Light</a>
										<a class="list-group-item list-group-item-action" id="cyclicLightsMCTab" 	data-toggle="list" href="#cyclicLightsMCInfo" 	role="tab" aria-controls="cyclicLightsMCTab">Cyclic Light Multiple Colors</a>
										<a class="list-group-item list-group-item-action" id="flashingLightsTab" 	data-toggle="list" href="#flashingLightsInfo" 	role="tab" aria-controls="flashingLightsTab">Flashing Lights</a>
										<a class="list-group-item list-group-item-action" id="pulseLightTab" 		data-toggle="list" href="#pulseLightInfo" 		role="tab" aria-controls="pulseLightTab">Pulse Lights</a>
										<a class="list-group-item list-group-item-action" id="sequentialLightsTab"	data-toggle="list" href="#sequentialLightsInfo" role="tab" aria-controls="sequentialLightsTab">Sequential Lights</a>
										<a class="list-group-item list-group-item-action" id="sirenLightsTab" 		data-toggle="list" href="#sirenLightsInfo" 		role="tab" aria-controls="sirenLightsTab">Siren Lights</a>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-12 py-3 d-flex align-items-center">
									<span class="textDark pr-2">
										Beat&nbsp;cooldown:
									</span>
									<input type="number" min="0" max="1000" value="100" class="numField mr-2" 	id="beatCooldownNum">
									<input type="range"  min="0" max="1000" value="100" class="slider" 			id="beatCooldownSlider">
								</div>
								<div class="col-12 pt-2 pb-3">
									<div class="tab-content" id="nav-musicModesTabContent">
										<div class="tab-pane fade" id="cyclicLightsInfo" 		role="tabpanel" aria-labelledby="cyclicLightsTab">Cyclic Light</div>
										<div class="tab-pane fade" id="cyclicLightsMCInfo" 		role="tabpanel" aria-labelledby="cyclicLightsMCTab">Cyclic Light Multiple Colors</div>
										<div class="tab-pane fade" id="flashingLightsInfo" 		role="tabpanel" aria-labelledby="flashingLightsTab">Flashing Lights</div>
										<div class="tab-pane fade" id="pulseLightInfo" 			role="tabpanel" aria-labelledby="pulseLightTab">Pulse Light</div>
										<div class="tab-pane fade" id="sequentialLightsInfo" 	role="tabpanel" aria-labelledby="sequentialLightsTab">Sequential Lights</div>
										<div class="tab-pane fade" id="sirenLightsInfo" 		role="tabpanel" aria-labelledby="sirenLightsTab">Siren Lights</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-12" id="response">
				</div>
			</div>
		</div>
	</body>

	<!-- Fontawesome -->
	<script src="https://kit.fontawesome.com/233310fc18.js" crossorigin="anonymous"></script>
	<!-- Bootstrap -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	<!-- iro.js for color picker -->
	<script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
	<!-- custom js -->
	<script src="js\custom.js"></script>
</html>